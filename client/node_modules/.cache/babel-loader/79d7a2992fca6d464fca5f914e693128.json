{"ast":null,"code":"var _jsxFileName = \"/Users/beatrisilieve/drf-react-todo-app/client/src/components/TodoList.js\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useState } from \"react\";\nimport { Box, Button, Grid, Modal, Stack, Switch } from \"@mui/material\";\nimport { useTodos } from \"../hooks/todos\";\nimport { useCategories } from \"../hooks/categories\";\nimport TodoItem from \"./TodoItem\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst modalStyle = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: 400,\n  bgcolor: 'background.paper',\n  border: '2px solid #000',\n  boxShadow: 24,\n  p: 4\n};\n\nconst TodosList = () => {\n  _s();\n\n  const [filter, setFilter] = useState({});\n  const [open, setOpen] = useState(false);\n  const {\n    todos,\n    loadTodos,\n    todoDetails,\n    applyFilter,\n    changeTodoState,\n    loadTodoDetails\n  } = useTodos();\n  const {\n    categories,\n    loadCategories\n  } = useCategories();\n  const handleChangeCategory = useCallback(id => {\n    setFilter({ ...filter,\n      category: id\n    });\n  }, [filter]);\n  const handleShowTodoDetails = useCallback(async id => {\n    setOpen(true);\n    await loadTodoDetails(id);\n  }, [loadTodoDetails]);\n  const handleStateChange = useCallback(async () => {\n    await changeTodoState();\n  }, [changeTodoState]);\n  const renderModalContent = useCallback(() => {\n    const {\n      title,\n      description,\n      state: isDone\n    } = todoDetails;\n    return /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        checked: isDone,\n        onChange: () => handleStateChange()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this);\n  }, [handleStateChange, todoDetails]);\n  useEffect(() => {\n    (async () => {\n      await loadTodos();\n    })();\n  }, [loadTodos]);\n  useEffect(() => {\n    (async () => {\n      await loadCategories();\n    })();\n  }, [loadCategories]);\n  useEffect(() => {\n    (() => {\n      applyFilter(filter);\n    })();\n  }, [applyFilter, filter]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Stack, {\n      direction: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => handleChangeCategory(''),\n        children: \"All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }, this), categories.map(_ref => {\n        let {\n          name,\n          id\n        } = _ref;\n        return /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => handleChangeCategory(id),\n          children: name\n        }, id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: todos.map(todo => /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: /*#__PURE__*/_jsxDEV(TodoItem, {\n          todo: todo,\n          onShowDetails: id => handleShowTodoDetails(id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }, this)\n      }, todo.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 33\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: open,\n      onClose: () => setOpen(false),\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: modalStyle,\n        children: renderModalContent()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 13\n  }, this);\n};\n\n_s(TodosList, \"SY6b7aUdIPyPUOAEGGO3waTvHsE=\", false, function () {\n  return [useTodos, useCategories];\n});\n\n_c = TodosList;\nexport default TodosList;\n\nvar _c;\n\n$RefreshReg$(_c, \"TodosList\");","map":{"version":3,"sources":["/Users/beatrisilieve/drf-react-todo-app/client/src/components/TodoList.js"],"names":["useCallback","useEffect","useState","Box","Button","Grid","Modal","Stack","Switch","useTodos","useCategories","TodoItem","modalStyle","position","top","left","transform","width","bgcolor","border","boxShadow","p","TodosList","filter","setFilter","open","setOpen","todos","loadTodos","todoDetails","applyFilter","changeTodoState","loadTodoDetails","categories","loadCategories","handleChangeCategory","id","category","handleShowTodoDetails","handleStateChange","renderModalContent","title","description","state","isDone","map","name","todo"],"mappings":"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","sourcesContent":["import {useCallback, useEffect, useState} from \"react\";\nimport {Box, Button, Grid, Modal, Stack, Switch} from \"@mui/material\";\nimport {useTodos} from \"../hooks/todos\";\nimport {useCategories} from \"../hooks/categories\";\nimport TodoItem from \"./TodoItem\";\n\nconst modalStyle = {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    width: 400,\n    bgcolor: 'background.paper',\n    border: '2px solid #000',\n    boxShadow: 24,\n    p: 4,\n};\n\n\nconst TodosList = () => {\n    const [filter, setFilter] = useState({});\n\n    const [open, setOpen] = useState(false);\n    const {\n        todos,\n        loadTodos,\n        todoDetails,\n        applyFilter,\n        changeTodoState,\n        loadTodoDetails,\n    } = useTodos();\n\n    const {\n        categories,\n        loadCategories,\n    } = useCategories();\n\n    const handleChangeCategory = useCallback((id) => {\n        setFilter({\n            ...filter, category: id,\n        });\n    }, [filter],)\n\n    const handleShowTodoDetails = useCallback(\n        async (id) => {\n            setOpen(true);\n            await loadTodoDetails(id);\n        },\n        [loadTodoDetails],\n    );\n\n    const handleStateChange = useCallback(\n        async () => {\n            await changeTodoState();\n        },\n        [changeTodoState],\n    );\n\n    const renderModalContent = useCallback(() => {\n            const {\n                title,\n                description,\n                state: isDone,\n            } = todoDetails;\n\n            return (\n                <Box>\n                    <h3>\n                        {title}\n                    </h3>\n                    <p>\n                        {description}\n                    </p>\n                    <Switch\n                        checked={isDone} onChange={() => handleStateChange()}/>\n                </Box>\n            )\n        },\n        [handleStateChange, todoDetails],\n    );\n\n    useEffect(() => {\n        (async () => {\n            await loadTodos();\n        })();\n    }, [loadTodos]);\n\n    useEffect(() => {\n        (async () => {\n            await loadCategories();\n        })();\n    }, [loadCategories],);\n\n    useEffect(() => {\n        (() => {\n            applyFilter(filter);\n        })();\n    }, [applyFilter, filter],);\n\n    return (<div>\n        <Stack direction='row'>\n            <Button onClick={() => handleChangeCategory('')}>All</Button>\n            {categories.map(({name, id}) => (\n                <Button key={id} onClick={() => handleChangeCategory(id)}>{name}</Button>))}\n        </Stack>\n        <Grid container>\n            {todos.map(todo => (<Grid item key={todo.id} xs={4}>\n                <TodoItem\n                    todo={todo}\n                    onShowDetails={(id) => handleShowTodoDetails(id)}\n                />\n            </Grid>))}\n        </Grid>\n\n        <Modal open={open} onClose={() => setOpen(false)}>\n            <Box sx={modalStyle}>\n                {renderModalContent()}\n            </Box>\n        </Modal>\n    </div>)\n};\n\nexport default TodosList;"]},"metadata":{},"sourceType":"module"}